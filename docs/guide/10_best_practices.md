## 十、最佳实践

### 10.1 模板设计原则

1. **保持简单**：避免在模板中编写复杂逻辑
2. **可读性优先**：生成清晰、易读的代码
3. **遵循规范**：符合 Go 语言规范和项目规范
4. **易于维护**：添加注释说明生成代码的用途

### 10.2 定制化建议

1. **渐进式修改**：一次只修改一个功能，测试通过后再继续
2. **版本控制**：使用 Git 管理定制化分支
3. **文档记录**：记录修改的原因和效果
4. **充分测试**：验证各种场景下的代码生成

### 10.3 代码生成规范

```yaml
# 良好的模板示例
body: |-
  // Code generated by cwgo. DO NOT EDIT.
  // Service: {{.ServiceName}}
  // Method: {{.Name}}
  // Generated at: {{now}}

  package service

  import (
    "context"
  )

  // {{.Name}}Service handles {{.Name}} business logic
  type {{.Name}}Service struct {
    ctx context.Context
  }

  // New{{.Name}}Service creates a new {{.Name}}Service
  func New{{.Name}}Service(ctx context.Context) *{{.Name}}Service {
    return &{{.Name}}Service{ctx: ctx}
  }

  // Run executes the {{.Name}} business logic
  func (s *{{.Name}}Service) Run({{range .Args}}{{.Name}} {{.Type}}, {{end}}) error {
    // TODO: Implement your business logic here
    return nil
  }
```

### 10.4 团队协作

1. **统一模板**：团队使用统一的模板版本
2. **代码审查**：模板修改需要代码审查
3. **文档共享**：维护定制化文档
4. **定期同步**：与上游项目保持同步

---

